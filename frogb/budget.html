<!DOCTYPE html>
<html>
<head>
	<title id="pageTitle">FrogBank - Budget</title>
	<meta name="description" content="Check and change your budget.">
	<link rel = "stylesheet" href = "budget.css">
	<link href="home.html" rel="import" />
	<link href='https://fonts.googleapis.com/css?family=Bebas Neue' rel='stylesheet'>
	<link href='https://fonts.googleapis.com/css?family=Bellefair' rel='stylesheet'>
	<link href='https://fonts.googleapis.com/css?family=Cinzel Decorative' rel='stylesheet'>
</head>

<body>
	<div class = "head_padding">
		<div class="head">
		  <a href="home.html" class="logo">Frog Bank</a>
		  <ul>
			<!-- <h1><li style="float:left"></li><a class="active" href='home.html'>Frog Bank</a></li></h1> -->
			<li style="float:right"><a class="active" href='home.html'>Log Out</a></li>
			<li style="float:right"><a class="active" href='help.html'>Help</a></li>
			<li style="float:right"><a class="active" href='user.html'>Home</a></li>
		  </ul>
		</div>
	</div>
	<div class = "padding">
		<div class = "mid">
			<div class = "left">
				<label class = "tab_title">Credit</label>
				<table class = "bills_tab" id="myTable">
  					<tr>
    					<th class = bills_title>Item</th>
   						<th class = bills_title>Bill</th>
						<th class = bills_title>Amount($)</th>
  					</tr>
				</table>
			</div>
			<div class = "left">
				<label class = "tab_title">Debit</label>
				<table class = "bills_tab" id="T3"> 
					<tr>
						<th class = bills_title> Item </th>
						<th class = bills_title> Income </th>
						<th class = bills_title> Amount </th>
					</tr>
				</table>
			</div>
			<div class = "left">
				<label class = "tab_title">Finances</label>
				<div class ="tab_bottom" id="cred">
					
					<table id="T2"> 
						<tr>
							<th> Credit(-)</th>
							<div class = "space"></div>
			
							<th> Debit(+)</th>
							<div class = "space"></div>
			
							<th> Balance(=)</th>
							<div class = "space"></div>
			
						</tr>
		
						<tr>
							<td><input type="text" placeholder="Credit" id="credit" readonly="readonly"> </td>
							<td><input type="text" placeholder="Debit" id="debit" readonly="readonly"></td>
							<td><input type="text" placeholder="Balance" id="balance" readonly="readonly"></td>
						</tr>
					</table>
				</div>
			</div>
			<div class = "left">
					<table class = "messagePrint" id = "messagePrint">
						<tr>
							<th class = "bills_title"> How You're Doing Financially </th>
						</tr>
					</table>
					<button class="budget_button" onclick="display_msg()">Check</button>
			</div>
			<div class = "left">
				<label class = currency> Currency Calculator </label>
				<div class = "curr_msg"> USD not your currency? Traveling somewhere with a different currency? Don't worry!</div>
				<label class = currencyVal>Value:</label>
				<input type="text" name="currVal" id="currVal" placeholder="Enter Value">
				<p></p>
				<label class = currencyVal>Currency You Want to Convert: </label>
				<!-- <input type="text" name="currFrom" id="currFrom" placeholder="Enter Currency Type"> -->
				<select id="currFrom">
					<option value="USD">USD</option>
					<option value="GBP">GBP</option>
				</select>
				<p></p>
				<label class = currencyVal>Currency to Convert to: </label>
				<!-- <input type="text" name="currTo" id="currTo" placeholder="Enter Currency Type"> -->
				<select id="currTo">
					<option value="USD">USD</option>
					<option value="GBP">GBP</option>
					<option value="MXN">MXN</option>
					<option value="EUR">EUR</option>
				</select>
				<p></p>
				<button class = "budget_button" onclick="currencyConvert()">Convert</button>
				<!-- <div style="color:red"><script>document.write(currencyConvert())</script></div> -->
				<table class = "currTab" id="currRet">
					<div class = "space"></div>
					<div class = "space"></div>
					<label class = "currency">Previous Conversions</label>
					<tr>
						<th></th>
						<th class = "currencyVal">Previous Value</th>
						<th></th>
						<th></th>
						<th class = "currencyVal">New Value</th>
					</tr>
				</table> 
			</div>
			<div class = "right">
				<div class="tab tab-2">
					<label class = form_title>Bills</label>
					<div class = "space"></div>
					<div class = "space"></div>
					<div class = "space"></div>
					<div class = "space"></div>
					<label class = form_label>Bill Name : </label>
					<input type="text" name="bill" id="bill">
					<div class = "space"></div>
					<label class = form_label>Amount : </label>
					<input type="number" name="amt" id="amt">
					<!-- <div class = "space"></div> -->
					<button class = "del_button" onclick="addRow(),credits(), balances()">Add</button>
					<div class = "space"></div>
					<div class = "space"></div>
					<div class = "space"></div>
					<div class = "space"></div>
					<label class = form_del> Which row would you like to delete?</label>
					<div class = "space"></div>
					<div class = "space"></div>
					<div class = "space"></div>
					<div class = "space"></div>
					<div class = "space"></div>
					<label class = form_label>Delete Row : </label>
					<input type="number" id="deleteindex">
					<button class = "del_button" onclick="delRow()">Delete Bill</button>
					<br> 
				</div>
			</div>
			<div class = "bottom_right">
				<label class = form_title>Income</label>
				<div class ="tab tab-2" id="incoming">
					<label class = form_label>Income : </label>
					<input type="text" name="income" id="income">
					<div class = "space"></div>
					<label class = form_label>Amount : </label>
					<input type="number" name="amt2" id="amt2">
					<button class = "del_button" onclick="addIncome(), debits(), balances()">Add income</button>
					<div class = "space"></div>
					<div class = "space"></div>
					<div class = "space"></div>
					<div class = "space"></div>
					<label class = form_del> Which row would you like to delete?</label>
					<div class = "space"></div>
					<div class = "space"></div>
					<div class = "space"></div>
					<div class = "space"></div>
					<div class = "space"></div>
					<label class = form_label>Delete Row : </label> 
					<input type="number" id="deleteincome">
	    			<button class = "del_button" onclick="delIncome(),balances()">Delete Income</button>
				</div>
				<br>
			</div> 
			
		</div>
	</div>

<!-- Functionality -->
<script>
 
    var table = document.getElementById("myTable");
	var T2 = document.getElementById("T2");
	var T3 = document.getElementById("T3");
function addRow() {
    var cnt = document.getElementById("myTable").rows.length;
	var bills = document.getElementById("bill").value,
	  amnt = document.getElementById("amt").value,
	  indi = cnt;
	if(bills ===""){
	alert("bill name not specified");
	for(i= 1; i<table.rows.length; i++){
	total = total + parseFloat(table.rows[i].cells[2].innerHTML);} 
	T2.rows[1].cells[0].innerHTML = total.toFixed(2);
	return;}
	
	if(amnt <= 0){
	alert("amount must be positive value");
	for(i= 1; i<table.rows.length; i++){
	total = total + parseFloat(table.rows[i].cells[2].innerHTML);} 
	T2.rows[1].cells[0].innerHTML = total.toFixed(2);
	return;}
    var row = table.insertRow(cnt);
    var cell0 = row.insertCell(0);
    var cell1 = row.insertCell(1);
    var cell2 = row.insertCell(2);
    
    cell0.innerHTML = indi;
    cell1.innerHTML = bills;
    cell2.innerHTML = amnt;
}

function addIncome() {
    var cnt = document.getElementById("T3").rows.length;
	var income = document.getElementById("income").value,
	    amnt = document.getElementById("amt2").value,
		ind = cnt;

	if(income ===""){
	alert("income name not specified");
	for(i= 1; i<T3.rows.length; i++){
	total = total + parseFloat(T3.rows[i].cells[2].innerHTML);} 
	T2.rows[1].cells[1].innerHTML = total.toFixed(2);
	return;}
	
	if(amnt <= 0){
	alert("amount must be positive value");
	for(i= 1; i<T3.rows.length; i++){
	total = total + parseFloat(T3.rows[i].cells[2].innerHTML);} 
	T2.rows[1].cells[1].innerHTML = total.toFixed(2);
	return;}
	
    var row = T3.insertRow(cnt);
    var cell0 = row.insertCell(0);
    var cell1 = row.insertCell(1);
	var cell2 = row.insertCell(2);
    cell0.innerHTML = ind;
    cell1.innerHTML = income;
    cell2.innerHTML = amnt;
	
}

function delRow(){
	var i = document.getElementById("deleteindex").value;
	var k = document.getElementById("myTable").rows.length;
	var total, bal;
	if(i < 1 ){
	alert("Item count out of range or not specified");
	return;}
	if(i >= k ){
	alert("Item count out of range, specified value too large");
	return;}
	total = parseFloat(T2.rows[1].cells[0].innerHTML) - parseFloat(table.rows[i].cells[2].innerHTML);
	T2.rows[1].cells[0].innerHTML = total.toFixed(2);
	bal = parseFloat(T2.rows[1].cells[2].innerHTML) + parseFloat(table.rows[i].cells[2].innerHTML);
	T2.rows[1].cells[2].innerHTML = bal.toFixed(2);
    table.deleteRow(i);
	document.getElementById("bill").value = "";
	document.getElementById("amt").value = "";
	
	for(i=1; i<k; i++){
	table.rows[i].cells[0].innerHTML = i;
	}
}

function delIncome(){
	var i = document.getElementById("deleteincome").value;
	var k = document.getElementById("T3").rows.length;
	var total, bal;
	if(i < 1 ){
	alert("Item count out of range or not specified");
	return;}
	if(i >= k ){
	alert("Item count out of range, specified value too large");
	return;}
	total = parseFloat(T2.rows[1].cells[1].innerHTML) - parseFloat(T3.rows[i].cells[2].innerHTML);
	T2.rows[1].cells[1].innerHTML = total.toFixed(2);
	bal = parseFloat(T2.rows[1].cells[2].innerHTML) - parseFloat(T3.rows[i].cells[2].innerHTML);
	T2.rows[1].cells[2].innerHTML = bal.toFixed(2);
    T3.deleteRow(i);
	document.getElementById("income").value = "";
	document.getElementById("amt2").value = "";
	
	for(i=1; i<k; i++){
	T3.rows[i].cells[0].innerHTML = i;
	}
}
function balances(){
	var j = document.getElementById("T3").rows.length-1;
	var k = document.getElementById("myTable").rows.length-1;
	var total;
	if(j >= 1 && k >=1){
	total = parseFloat(T2.rows[1].cells[1].innerHTML)- parseFloat(T2.rows[1].cells[0].innerHTML)
	T2.rows[1].cells[2].innerHTML = total.toFixed(2);}}
	
	
function credits(){
	var total =0;
	var k = document.getElementById("myTable").rows.length-1;
	if(k === 1){
	T2.rows[1].cells[0].innerHTML = document.getElementById("amt").value;}
	
	if(k>1){
	for(i= 1; i<table.rows.length; i++){
	total = total + parseFloat(table.rows[i].cells[2].innerHTML);} 
	T2.rows[1].cells[0].innerHTML = total.toFixed(2);}
}

function debits(){
	var total =0;
	var k = document.getElementById("T3").rows.length-1;
	if(k === 1){
	T2.rows[1].cells[1].innerHTML = document.getElementById("amt2").value;}
	
	if(k>1){
	for(i= 1; i<T3.rows.length; i++){
	total = total + parseFloat(T3.rows[i].cells[2].innerHTML);} 
	T2.rows[1].cells[1].innerHTML = total.toFixed(2);}
	
}

function display_msg(){
	var cnt = document.getElementById("messagePrint").rows.length;
	var bal = parseFloat(T2.rows[1].cells[2].innerHTML);
	var income = parseFloat(T2.rows[1].cells[1].innerHTML);
	var percent = bal/ income;
	var words = "";
	if(bal <= 0){
		words = "You used all your money. We recommend cutting back on non-essentials or retrieving another source of income";}
	else if(percent <0.3){
	words = "You have 30 percent or less of income remaining. Maybe you should cut back your expenses. You can go spending, but be mindful";}
	else if(percent <0.5){
	words = "Way to go, after paying off your bills you have more than 30%-50% of income remaining. Maybe you should save some";}
	else{
	words = "Way to go, after paying off your bills you have more than 30 percent of income remaining. Maybe you should save some";}
	var row = messagePrint.insertRow(cnt);
    var cell0 = row.insertCell(0);
	cell0.innerHTML = words;

}
function currencyConvert(){
	var cnt = document.getElementById("currRet").rows.length;
	var val = 0,
	    currFrom = document.getElementById("currFrom").value,
		currTo = document.getElementById("currTo").value,
		symbol = "",
		currVal = document.getElementById("currVal").value,
		oldSymbol = "";

	if(currVal ===""){
		alert("Value not specified");
		return;
	}
	if(currVal <= 0){
		alert("Amount must be positive value");
		return;
	}
	if(typeof currFrom === 'string' || currFrom instanceof String){
		if(currFrom === 'USD'){
			oldSymbol = "$";
			if(currTo === "EUR"){
				symbol = "€";
				val = currVal * 0.92;
			}
			else if(currTo === "MXN"){
				symbol = "$";
				val = currVal * 24.41;
			}
			else if(currTo === "GBP"){
				symbol = "£";
				val = currVal * 0.81;
			}
			else{
				alert("Invalid Entry");
				val = "Invalid Entry";
			}
		}else if(currFrom === "GBP"){
			oldSymbol = "£";
			if(currTo === "EUR"){
				symbol = "€";
				val = currVal * 1.13;
			}
			else if(currTo === "USD"){
				symbol = "$";
				val = currVal * 1.23;
			}
			else if(currTo === "MXN"){
				symbol = "$";
				val = currVal * 30;
			}
			else{
				alert("Invalid Entry");
				val = "Invalid Entry";
			}
		}
	}else{
		alert("Please enter a valid currency conversion");
	}
	
	
	var row = currRet.insertRow(cnt);
    var cell0 = row.insertCell(0);
	var cell1 = row.insertCell(1);
	var cell2 = row.insertCell(2);
	var cell3 = row.insertCell(3);
	var cell4 = row.insertCell(4);
	cell0.innerHTML = oldSymbol;
	cell1.innerHTML = currVal;
	cell2.innerHTML = "converts to";
	cell3.innerHTML = symbol;
    cell4.innerHTML = val.toFixed(2);
}
</script>

</body>
</html>


